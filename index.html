<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>journal272</title>
</head>
<body>
    <h1>Journal Entry</h1>

    <!-- Simple form for title and text -->
    <form id="journalForm">
        <label for="title">Title:</label><br>
        <input type="text" id="title" name="title"><br><br>
        <label for="entry">Text:</label><br>
        <textarea id="entry" name="entry"></textarea><br><br>
        <input type="submit" value="Submit">
    </form>

    <script type="module">
        // Your Firebase configuration and import statements

        // Your Firebase initialization code
        const app = initializeApp(firebaseConfig);
        const database = getDatabase();

        // Add a submit event listener to the form
        const form = document.getElementById('journalForm');
        form.addEventListener('submit', (e) => {
            e.preventDefault(); // Prevent default form submission

            const titleInput = document.getElementById('title');
            const entryInput = document.getElementById('entry');

            if (titleInput && entryInput) {
                const userId = push(child(ref(database), "users")).key;
                set(ref(database, 'users/' + userId), {
                    title: titleInput.value,
                    entry: entryInput.value
                })
                .then(() => {
                    alert("Data submitted!");
                })
                .catch((error) => {
                    alert(error);
                });
            } else {
                console.error('Form elements not found');
            }
        });
    </script>
</body>
</html>
